## オブジェクト指向

https://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91

プログラミングパラダイム

* データ（変数）とコード（関数、メソッド）のセットを基本要素にして物事を解析する考え方
    * 「オブジェクト指向」

考案者のオブジェクト指向の構想の要約

>1.すべてはオブジェクトである。
2.オブジェクトはメッセージの送信と受信によってコミュニケーションする。
3.オブジェクトは自身の記憶を持つ。
4.すべてのオブジェクトはクラスのインスタンスである。クラスもまたオブジェクトであるべきである。
5.クラスはそのインスタンスたちのために共有される振る舞いを保持する。振る舞いはプログラムリストのオブジェクトの形態である。
6.プログラムリストの評価では、制御は最初のオブジェクトに渡され、残りはそのメッセージとして処理される。
※プログラムリストはLISP言語由来の言葉であり、計算シンボル、関数シンボル、変数シンボル、数列、数値をトークン単位で連ねたデータ列である。
一連の処理=プログラムリスト

* プログラムは全てオブジェクトとして扱う。
* オブジェクト同士のメッセージのやり取りで機能を実現。
* オブジェクト内にデータを保持。
* オブジェクトはクラスのインスタンス
* クラスには振る舞い(関数、メソッド)が定義

### クラスとオブジェクト

よくある説明

* クラス＝型
* オブジェクト＝型から生成されたもの

クラス：たいやきの型
オブジェクト：たいやき

```c
class Taiyaki{
    private:
      int contents; // たい焼きの中身
    public:
      enum ContentsType{ANKO;CREAM};
      Taiyaki(int _contents):contents(_contents){};
};
```

```
{
    Taiyaki anko(ContentsType::ANKO);
}
```

### メッセージ

> 2.オブジェクトはメッセージの送信と受信によってコミュニケーションする。


* オブジェクト同士が独立して存在するとして、各々が相互作用するためには、通信が必要になる。
* 通信には必ずデータのやり取りが必要。

→ 「メッセージ」と用語で表す。
通常であればメッセージ＝メソッドに相当する。

```eval_rst
.. uml::


    Client -> Server : sendMessage( data )
    Client <-- Server: return value

```


### カプセル化

> カプセル化とは、オブジェクト指向プログラミングにおいて、互いに関連するデータの集合とそれらに対する操作をオブジェクトとして一つの単位にまとめ、外部に対して必要な情報や手続きのみを提供すること。外から直に参照や操作をする必要のない内部の状態や構造は秘匿される。

「オブジェクト」はクラスに置き換えて考える。

→ クラスは外部に対して必要な情報や手続きのみ提供する。
   外から直に参照や操作をする必要のない内部の状態や構造は秘匿される
   → 基本的に外部から呼び出される関数のみpublicにする。  
      変数に関しては、直接アクセスするのではなく、必要最低限の変数に対してgetter , setterを定義し、メソッド経由でアクセスするようにする。

カプセル化の恩恵

> 十分にカプセル化されたオブジェクトを組み合わせてプログラムを構築していくことにより、オブジェクトの内部の仕様の変更が外部に予期せぬ影響を及ぼしたり、外部からの予期せぬ干渉でオブジェクトの状態が壊されることを防ぐことができるようになる。

### ポリモーフィズム

継承の時に説明。
